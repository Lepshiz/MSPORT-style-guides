# MSPORT style guides

<h3 id="table-of-contents">Содержание</h3>

1. [Терминология](#terminology)
    - [Объявление правил](#rule-declaration)
    - [Селекторы](#selectors)
    - [Свойств](#properties)
1. [Правила форматирования кода](#css-rules-format)
1. [Правила написания CSS кода](#css-rules-base)
1. [БЭМ](#bem)
    - [Правила именования CSS классов](#css-bem-naming)
    - [Примеры плохого и хорошего кода](#code-style-examples)
1. [PostCSS](#postcss-rules)
    - Вложенность 
    - Переменные 
    - Миксины 
    - Функции
    - Порядок объявления свойств 
    - Наследование
1. [Линтинг кода](#style-lint)
    - [Конфигурационны файл линтера](#style-lint-config)
1. [Организация файловой структуры](#css-file-structure)

<h2 id="terminology">Терминология</h2>

<h4 id="rule-declaration">Объявление правил</h4>
"Объявление правил" это имя данное селектору (или группе селекторов) с сопутствующими ему свойствами. 

Например:

```css
/* Блок правил */
[селектор] {
  [свойство1]: [значение];
  [свойство2]: [значение];
}
```

<h4 id="selectors">Селекторы</h4>

В объявлении правил "селекторы" - это части, которые определяют, к какому элементу DOM дерева будут применены правила стилей. Селекторы могут соответствовать имени тега HTML элемента, а также классу элемента, ID или любому другому атрибуту этого элемента. 

Вот несколько примеров:

```css
.my-element-class {
  /* свойства */
}
```
```css
[aria-hidden] {
  /* свойства */
}
```

<h4 id="properties">Свойства</h4>

И, наконец, свойства, которые придают выбранным элементам их стиль. Свойства объявляются в виде пары "название: значение", объявления правил могут содержать одно или несколько свойств. Объявление свойств может выглядеть так:

```css
/* селектор */ {
  margin-right: 10px;
  background: #f1f1f1;
}
```


<h2 id="css-rules-format">Правила форматирования CSS кода</h2>

  - Используйте для табуляции 2 символа пробела.
  - Ставьте пробел перед открывающей скобкой `{`.
  - В свойствах ставьте пробел после двоеточия `:`, но не перед.
  - Всегда используйте `;` в конце CSS правила.
  - После объявления свойства переносите закрывающую скобку `}` на новую строку.
  - Используя несколько селекторов в объявлении правила, переносите каждый селектор на отдельную строку.
  - Делайте отступ в одну строку между объявлениями правил.
  - Не используйте более двух строк отступа в коде.
  

<h2 id="css-rules-base">Правила написания CSS кода</h2>

  - Отдавайте приоритет семантическим тегам HTML5, но используйте их по назначению.
  - Пишите детальные комментарии для неочевидного кода (использование z-index, CSS-хаки...).
  - Название CSS класса должны описывать его назначение, а не внешний вид (`.read-more-link` вместо `.red-link`).
  - Не используйте селекторы по ID, в случае **острой необходимости** используйте селектор атрибута `[id="Some"]`.
  - Избегайте использования селекторов по имени тега (`.some > span`, `a img`).
  - Не указывайте единицы измерения при нулевом значении свойства (`margin: 0` вместо `margin: 0px`).
  - Используйте краткую форму записи CSS свойств (`padding: 5px 10px 0` вместо `padding-top: 5px; padding-right: 10px; ...`).
  - Используйте hex значение цвета вместо rgb или названия (`#000000` вместо `rgb(0,0,0)`, `black`).
  - Используйте полную форму записи значения hex цвета (`#666666` вместо `#666`).
  - Используйте нижний регистр для любыx свойств, в т.ч. hex значения цвета (`#dadada` вместо `#DADADA`).
  - Используйте пробел после запятых в сложных значениях (`rgba(0, 0, 0, 1)`, `linear-gradient(to right, #ffffff 0%, #000000 100%)`).
  - `@media` запросы используются после того блока правил, на которые они непосредственно влияют.
  - Не используйте директиву `!important`! Если это единственное решение, то проблема в другом месте и решать ее нужно там.
  - Свойства внутри одного блока нужно перечислять начиная со свойств влияющих на геометрию ([позиционирование], [отображение и поведение], [размеры и отступы], [шрифт], [стиль]).


<h2 id="bem">БЭМ</h2>

В проекте MSPORT используется методология "БЭМ".

> БЭМ (Блок, Элемент, Модификатор) — компонентный подход к веб-разработке. В его основе лежит принцип разделения интерфейса на независимые блоки. Он позволяет легко и быстро разрабатывать интерфейсы любой сложности и повторно использовать существующий код, избегая «Copy-Paste». [Документация на ru.bem.info](https://ru.bem.info/methodology/quick-start/).

<h3 id="css-bem-naming">Правила именования CSS классов</h3>

  - В качестве разделителя слов в имени CSS класса используется знак дефиса (`.some-block`, `.block__element-name`).
  - Название блока отделяется от названия модификатора двойным подчеркиванием (`.block__element`).
  - Название модификатора отделяется одинарным подчеркиванием (`block__element_mod`).
  - Имена элементов и блоков должны отражать их назначение.
  - Имена модификаторов должны отражать внешний вид, состояние или поведение.
  - Элементы и модификаторы не должны использовать вне блока-родителя. (см. [исключение](#global-mod))
  - В названии элементов нельзя прописывать иерархию вида `block__elem1__elem2`, один элемент - один CSS класс.
  
<h3 id="global-mod">Глобальные модификаторы</h3>

В проекте MSPORT вводим понятие глобального модификатора (ГМ), он позволяет быстро применять некоторые стили, такие как upper-case, text-center и т.д. Класс ГМ начинается с '_' ._upper. **Антипаттерн!?**

    
<h3 id="code-style-exmples">Примеры плохого и хорошего кода</h3>

```css
/* Плохой код */
.some-block, .some-other-block { /* селекторы в одну строку :( */
display:block; /* имя-значение без отступа :( */
margin: 0 auto /* нет точки с запятой в конце :( */
}
.some-block > span {padding-top: 0} /* запись в одну строку, селектор по тегу :( */
.some-block .message-green { /* имя CSS класса не отражает назначение элемента :( */
  padding-top: 0.5rem; /* не используется короткая запись :( */
  padding-right: 0.75rem;
  padding-left: 0.7rem;
  font: 1.5rem;
  color: green;
}
.some-block .message-red { /* отсутствует структура в списке правил :( */
  border-radius: 5px;
  font: 1.5rem;
  color: red;
  white-space: nowrap;
  position: relative;
  padding: 0.5rem;
  overflow: hidden;
}
```

```css
/* Хороший код */
.some-block,
.some-other-block {
  display: block;
  margin: 0 auto;
}

.some-block__element {
  padding-top: 0;
}

.some-block__message {
  position: relative;
  padding: 0.5rem 0.75rem 0;
  overflow: hidden;
  font-size: 1.5rem;
  white-space: nowrap;
  border-radius: 5px;
}

.some-block__message_error {
  color: #ff0000;
}

.some-block__message_success {
  color: #00ff00;
}
```


<h2 id="postcss-rules">PostCSS</h2>

    - Вложенность 
    - Переменные 
    - Миксины 
    - Функции
    - Порядок объявления свойств 
    - Наследование
    
    
<h2 id="style-lint">Линтинг кода</h2>

В проекте используемы CSS линтер StyleLint. [stylelint.io](https://stylelint.io/) - современный иснструмент для проверки качества и форматирования CSS кода, поддерживает большое количество разнообразных правил.

Для проверки кода на лету, рекомендуем добавить соответствующий плагин для вашей IDE/редактора, список плагинов можно [посмотреть на сайте](https://stylelint.io/user-guide/complementary-tools/#editor-plugins).

<h3 id="style-lint-config">Конфигурационны файл линтера</h3>

[Стандартный конфиг для проекта MSPORT](https://github.com/Lepshiz/MSPORT-style-guides/blob/master/stylelint.config.json)


<h2 id="css-file-structure">Организация файловой структуры</h2>
